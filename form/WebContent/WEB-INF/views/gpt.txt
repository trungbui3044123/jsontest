**`XMLHttpRequest`** lÃ  má»™t Ä‘á»‘i tÆ°á»£ng trong JavaScript dÃ¹ng Ä‘á»ƒ gá»­i yÃªu cáº§u HTTP Ä‘áº¿n mÃ¡y chá»§. NÃ³ cÃ³ nhiá»u phÆ°Æ¡ng thá»©c (methods) vÃ  thuá»™c tÃ­nh (properties) giÃºp kiá»ƒm soÃ¡t quÃ¡ trÃ¬nh gá»­i vÃ  nháº­n dá»¯ liá»‡u.

### **CÃ¡c phÆ°Æ¡ng thá»©c (`methods`) cá»§a `XMLHttpRequest`**
1. **`open(method, url, async, user, password)`** - Má»Ÿ má»™t yÃªu cáº§u HTTP.  
2. **`send(body)`** - Gá»­i yÃªu cáº§u Ä‘áº¿n mÃ¡y chá»§.  
3. **`abort()`** - Há»§y yÃªu cáº§u hiá»‡n táº¡i.  
4. **`setRequestHeader(header, value)`** - Äáº·t giÃ¡ trá»‹ cho má»™t header HTTP.  
5. **`getResponseHeader(header)`** - Láº¥y giÃ¡ trá»‹ cá»§a má»™t header tá»« pháº£n há»“i.  
6. **`getAllResponseHeaders()`** - Láº¥y táº¥t cáº£ cÃ¡c headers tá»« pháº£n há»“i.  
7. **`overrideMimeType(mime)`** - Ghi Ä‘Ã¨ loáº¡i MIME Ä‘Æ°á»£c tráº£ vá».  

### **CÃ¡c thuá»™c tÃ­nh (`properties`) cá»§a `XMLHttpRequest`**
1. **`readyState`** - Tráº¡ng thÃ¡i cá»§a yÃªu cáº§u (`0-4`).  
2. **`status`** - MÃ£ tráº¡ng thÃ¡i HTTP (`200, 404, 500,...`).  
3. **`statusText`** - MÃ´ táº£ tráº¡ng thÃ¡i HTTP (`OK, Not Found,...`).  
4. **`responseText`** - Ná»™i dung pháº£n há»“i dáº¡ng vÄƒn báº£n.  
5. **`responseXML`** - Ná»™i dung pháº£n há»“i dáº¡ng XML.  
6. **`responseType`** - Loáº¡i dá»¯ liá»‡u cá»§a pháº£n há»“i (`json, text, blob,...`).  
7. **`onreadystatechange`** - Sá»± kiá»‡n thay Ä‘á»•i tráº¡ng thÃ¡i yÃªu cáº§u.  
8. **`timeout`** - Thá»i gian tá»‘i Ä‘a cho yÃªu cáº§u.  
9. **`withCredentials`** - Cho phÃ©p gá»­i cookie cÃ¹ng vá»›i request.  

### **VÃ­ dá»¥ sá»­ dá»¥ng `XMLHttpRequest`:**
```js
const xhttp = new XMLHttpRequest();
xhttp.open("GET", "https://api.example.com/data", true);
xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
        console.log(xhttp.responseText);
    }
};
xhttp.send();
```

Báº¡n cÃ³ muá»‘n tÃ¬m hiá»ƒu sÃ¢u hÆ¡n vá» má»™t phÆ°Æ¡ng thá»©c hoáº·c thuá»™c tÃ­nh nÃ o khÃ´ng? ğŸš€

Ráº¥t hay! Máº·c dÃ¹ cáº£ **HTML Form GET** vÃ  **AJAX GET vá»›i `XMLHttpRequest`** Ä‘á»u gá»­i yÃªu cáº§u HTTP **GET** Ä‘áº¿n mÃ¡y chá»§, nhÆ°ng chÃºng cÃ³ sá»± khÃ¡c biá»‡t quan trá»ng trong cÃ¡ch hoáº¡t Ä‘á»™ng vÃ  tÃ¡c dá»¥ng thá»±c táº¿.

---

### **1. HTML Form GET**
```html
<form action="/getData" method="GET">
    <input type="text" name="query">
    <button type="submit">Gá»­i</button>
</form>
```
ğŸ“ **CÃ¡ch hoáº¡t Ä‘á»™ng**:
- Khi ngÆ°á»i dÃ¹ng nháº­p dá»¯ liá»‡u vÃ o form vÃ  nháº¥n **Gá»­i**, trÃ¬nh duyá»‡t tá»± Ä‘á»™ng gá»­i má»™t **yÃªu cáº§u GET** Ä‘áº¿n URL `/getData?query=...`.
- **Trang web sáº½ táº£i láº¡i** vá»›i ná»™i dung pháº£n há»“i tá»« mÃ¡y chá»§.
- Dá»¯ liá»‡u sáº½ hiá»ƒn thá»‹ trÃªn trang má»›i do mÃ¡y chá»§ tráº£ vá».
- Dá»¯ liá»‡u request sáº½ hiá»ƒn thá»‹ trÃªn **thanh Ä‘á»‹a chá»‰** (vÃ­ dá»¥: `https://example.com/getData?query=test`).

ğŸ“Œ **NhÆ°á»£c Ä‘iá»ƒm**:
- Khi gá»­i request, **trang sáº½ bá»‹ táº£i láº¡i**.
- KhÃ´ng thá»ƒ xá»­ lÃ½ dá»¯ liá»‡u **má»™t cÃ¡ch linh hoáº¡t** mÃ  khÃ´ng cáº§n load láº¡i trang.

---

### **2. AJAX GET vá»›i `XMLHttpRequest`**
```js
const query = "test";
const xhttp = new XMLHttpRequest();
xhttp.open("GET", "/getData?query=" + encodeURIComponent(query), true); // Gá»­i request GET
xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
        console.log(xhttp.responseText); // Nháº­n dá»¯ liá»‡u mÃ  khÃ´ng táº£i láº¡i trang
    }
};
xhttp.send();
```
ğŸ“ **CÃ¡ch hoáº¡t Ä‘á»™ng**:
- JavaScript gá»­i request **GET** Ä‘áº¿n mÃ¡y chá»§ mÃ  **khÃ´ng táº£i láº¡i trang**.
- MÃ¡y chá»§ xá»­ lÃ½ vÃ  tráº£ pháº£n há»“i (vÃ­ dá»¥: JSON, vÄƒn báº£n).
- Dá»¯ liá»‡u nháº­n Ä‘Æ°á»£c cÃ³ thá»ƒ cáº­p nháº­t ngay trÃªn trang web (vÃ­ dá»¥: hiá»ƒn thá»‹ káº¿t quáº£ tÃ¬m kiáº¿m).

ğŸ“Œ **Æ¯u Ä‘iá»ƒm**:
- **Trang khÃ´ng bá»‹ táº£i láº¡i**, giÃºp tráº£i nghiá»‡m mÆ°á»£t mÃ  hÆ¡n.
- Dá»¯ liá»‡u nháº­n vá» cÃ³ thá»ƒ Ä‘Æ°á»£c **xá»­ lÃ½ vÃ  hiá»ƒn thá»‹ ngay trÃªn trang**.
- CÃ³ thá»ƒ káº¿t há»£p vá»›i API Ä‘á»ƒ láº¥y dá»¯ liá»‡u Ä‘á»™ng mÃ  khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng.

---

### **So sÃ¡nh trá»±c tiáº¿p**
| **TiÃªu chÃ­**           | **HTML Form GET**                        | **AJAX GET (`XMLHttpRequest`)**         |
|------------------------|----------------------------------------|---------------------------------------|
| **CÃ¡ch gá»­i request**   | TrÃ¬nh duyá»‡t tá»± Ä‘á»™ng gá»­i khi form Ä‘Æ°á»£c submit | JavaScript gá»­i yÃªu cáº§u GET tá»± Ä‘á»™ng |
| **CÃ³ táº£i láº¡i trang?**  | âŒ CÃ³ | âœ… KhÃ´ng |
| **Hiá»ƒn thá»‹ dá»¯ liá»‡u?**  | MÃ¡y chá»§ gá»­i trang má»›i chá»©a ná»™i dung | Nháº­n dá»¯ liá»‡u tá»« server mÃ  khÃ´ng thay Ä‘á»•i trang |
| **á»¨ng dá»¥ng thá»±c táº¿**   | ÄÄƒng nháº­p, tÃ¬m kiáº¿m cÆ¡ báº£n | TÃ¬m kiáº¿m tá»©c thÃ¬, táº£i dá»¯ liá»‡u Ä‘á»™ng (API) |

---

### **Khi nÃ o nÃªn dÃ¹ng má»—i cÃ¡ch?**
âœ” **DÃ¹ng HTML Form GET** khi cáº§n **chuyá»ƒn sang má»™t trang má»›i**, vÃ­ dá»¥: tÃ¬m kiáº¿m trÃªn Google.  
âœ” **DÃ¹ng AJAX GET** khi muá»‘n **táº£i dá»¯ liá»‡u Ä‘á»™ng** mÃ  khÃ´ng táº£i láº¡i trang, vÃ­ dá»¥: tÃ¬m kiáº¿m gá»£i Ã½.

ğŸ’¡ **VÃ­ dá»¥ thá»±c táº¿**:
- **Google Search**: Khi báº¡n nháº¥n Enter, trang táº£i láº¡i (**HTML Form GET**).
- **Google Suggest**: Khi báº¡n nháº­p tá»« khÃ³a, gá»£i Ã½ xuáº¥t hiá»‡n mÃ  khÃ´ng táº£i láº¡i trang (**AJAX GET**).

Báº¡n muá»‘n thá»­ má»™t bÃ i táº­p nhá» vá»›i AJAX Ä‘á»ƒ hiá»ƒu sÃ¢u hÆ¡n khÃ´ng? ğŸš€ğŸ˜ƒ


Báº¡n cÃ³ thá»ƒ xá»­ lÃ½ **GET request** trong Java báº±ng **Servlet**, vÃ  dá»¯ liá»‡u cÃ³ thá»ƒ Ä‘Æ°á»£c gá»­i tá»« **HTML Form** hoáº·c **AJAX**. DÆ°á»›i Ä‘Ã¢y lÃ  vÃ­ dá»¥ Ä‘áº§y Ä‘á»§:

---

### **1. Táº¡o Servlet Ä‘á»ƒ xá»­ lÃ½ GET request**
Trong Java EE, báº¡n dÃ¹ng **HttpServlet** Ä‘á»ƒ nháº­n dá»¯ liá»‡u tá»« client.

ğŸ“Œ **VÃ­ dá»¥ `GetDataServlet.java`**
```java
import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/getData")
public class GetDataServlet extends HttpServlet {
    protected void doGet(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        // Láº¥y dá»¯ liá»‡u tá»« request GET
        String query = request.getParameter("query");

        // Táº¡o pháº£n há»“i
        response.setContentType("text/plain");
        response.getWriter().println("Báº¡n Ä‘Ã£ nháº­p: " + query);
    }
}
```
ğŸ“ **Giáº£i thÃ­ch:**
- **`@WebServlet("/getData")`**: XÃ¡c Ä‘á»‹nh URL `/getData` mÃ  servlet nÃ y xá»­ lÃ½.
- **`request.getParameter("query")`**: Láº¥y giÃ¡ trá»‹ `query` tá»« request.
- **`response.getWriter().println(...)`**: Tráº£ vá» pháº£n há»“i cho client.

---

### **2. Gá»­i GET tá»« HTML Form**
Báº¡n cÃ³ thá»ƒ gá»­i yÃªu cáº§u GET báº±ng cÃ¡ch sá»­ dá»¥ng **HTML Form**.

ğŸ“Œ **VÃ­ dá»¥ `index.html`**
```html
<form action="/getData" method="GET">
    <input type="text" name="query" placeholder="Nháº­p tá»« khÃ³a">
    <button type="submit">Gá»­i</button>
</form>
```
ğŸ“ **CÃ¡ch hoáº¡t Ä‘á»™ng**:
- Khi nháº¥n **Gá»­i**, trÃ¬nh duyá»‡t sáº½ chuyá»ƒn hÆ°á»›ng Ä‘áº¿n **`/getData?query=...`**.
- Servlet sáº½ **nháº­n request**, xá»­ lÃ½, vÃ  tráº£ pháº£n há»“i.

---

### **3. Gá»­i GET báº±ng AJAX (JavaScript)**
Náº¿u báº¡n muá»‘n nháº­n dá»¯ liá»‡u mÃ  **khÃ´ng táº£i láº¡i trang**, cÃ³ thá»ƒ dÃ¹ng **AJAX (`XMLHttpRequest`)**.

ğŸ“Œ **VÃ­ dá»¥ `script.js`**
```js
document.getElementById("myForm").addEventListener("submit", function(event) {
    event.preventDefault(); // NgÄƒn form táº£i láº¡i trang

    const query = document.querySelector("input[name='query']").value;
    const xhttp = new XMLHttpRequest();

    xhttp.open("GET", "/getData?query=" + encodeURIComponent(query), true);
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            document.getElementById("result").innerText = xhttp.responseText;
        }
    };

    xhttp.send();
});
```
ğŸ“Œ **ThÃªm vÃ o `index.html`**
```html
<form id="myForm">
    <input type="text" name="query" placeholder="Nháº­p tá»« khÃ³a">
    <button type="submit">Gá»­i AJAX</button>
</form>

<div id="result"></div>

<script src="script.js"></script>
```
ğŸ“ **CÃ¡ch hoáº¡t Ä‘á»™ng**:
- Khi nháº¥n **"Gá»­i AJAX"**, JavaScript sáº½ gá»­i request **GET** Ä‘áº¿n `/getData`.
- MÃ¡y chá»§ **pháº£n há»“i**, vÃ  káº¿t quáº£ sáº½ **hiá»ƒn thá»‹ ngay trÃªn trang**.

---

### **So sÃ¡nh**
| **PhÆ°Æ¡ng thá»©c** | **CÃ¡ch hoáº¡t Ä‘á»™ng** | **TÃ¡c dá»¥ng** |
|---------------|----------------|-------------|
| **HTML Form GET** | TrÃ¬nh duyá»‡t gá»­i request, táº£i láº¡i trang | DÃ¹ng khi muá»‘n hiá»ƒn thá»‹ trang má»›i |
| **AJAX GET** | JavaScript gá»­i request, khÃ´ng táº£i láº¡i trang | Hiá»ƒn thá»‹ dá»¯ liá»‡u Ä‘á»™ng, mÆ°á»£t mÃ  hÆ¡n |

---

ğŸ’¡ **á»¨ng dá»¥ng thá»±c táº¿**
- HTML Form GET: TÃ¬m kiáº¿m Google khi nháº¥n **Enter**.
- AJAX GET: Gá»£i Ã½ tÃ¬m kiáº¿m trÃªn Google khi Ä‘ang nháº­p.

Báº¡n cÃ³ muá»‘n thá»­ má»Ÿ rá»™ng bÃ i táº­p nÃ y vá»›i **Fetch API** khÃ´ng? ğŸš€ğŸ˜ƒ


XMLHttpRequest lÃ  object cÃ³ sáºµn á»Ÿ browsers
thÆ°á»ng dÃ¹ng Ä‘á»ƒ send request tá»›i server open() vÃ  send()
url lÃ  dchi 1 file trÃªn server: DÃ¹ng Ä‘á»ƒ pháº£n há»“i / thá»±c hiá»‡n action khi mÃ  server response back
fetch(): Hoat Ä‘á»™ng tÆ°Æ¡ng tá»± xmlhttprequest cÆ¡ mÃ  Ä‘Æ¡n giáº£n hÆ¡n
Vá» cÆ¡ cháº¿:
Browser JS, sáº½ gá»­i request dáº¡ng get/post... tá»›i 1 url chá»‰ Ä‘á»‹nh
BE: xá»­ lÃ½ sáºµn cÃ¡i file url trá» tá»›i Ä‘Ã³ sáº½ lÃ m cÃ¡i viá»‡c gÃ¬( tráº£ láº¡i json, lÆ°u vÃ o db...)
Browser nháº­n káº¿t quáº£ tráº£ vá» Ä‘Ã³ const result= xhttp.responseText; vÃ­ dá»¥ náº¿u be cÃ³ tráº£ vá» data thÃ¬ dungf thuá»™c tÃ­nh nÃ y. Ä‘á»ƒ há»©ng kqua tráº£ vá»
JS dÃ¹ng kqua tráº£ vá» lÃ m viá»‡c cáº§n lÃ m.

fetch('https://jsonplaceholder.typicode.com/users/1') send request tá»›i server  vá»›i 1 url cá»¥ thá»ƒ
  .then(response => console.log(response)) há»©ng response tráº£ vá»
  .catch(error => console.log(error));